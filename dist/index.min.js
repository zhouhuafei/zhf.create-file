"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var extend=require("zhf.extend"),fs=require("fs"),path=require("path"),CreateFile=function(){function e(t){_classCallCheck(this,e),this.opts=extend({callback:{writeFile:function(){}},config:{isCover:!1},data:{path:"",fileName:"",extendName:"",content:""}},t),this.init()}return _createClass(e,[{key:"init",value:function(){this.errorHandle()}},{key:"errorHandle",value:function(){var e=this.opts.data;e.path?e.fileName?e.extendName?("."!==e.extendName.charAt(0)&&(e.extendName="."+e.extendName),this.power()):console.log("扩展名不存在"):console.log("文件名不存在"):console.log("路径不存在")}},{key:"writeFile",value:function(){var e=this,t=this.opts.data,n=t.path,a=n+t.fileName+t.extendName;!function e(t,n){t?fs.stat(t,function(a){a?e(path.dirname(t),function(){fs.mkdir(t,n)}):n()}):console.log("路径参数不存在(Path parameters do not exist)")}(n,function(n){n?console.log(n):fs.writeFile(a,t.content,function(t){t?console.log("错误信息:"+t):console.log("文件创建成功,文件路径:"+a),e.opts.callback.writeFile(t)})})}},{key:"power",value:function(){var e=this,t=this.opts.data,n=t.path+t.fileName+t.extendName;fs.readFile(n,function(t,a){e.opts.config.isCover?e.writeFile():t?e.writeFile():console.log("文件已经存在,文件路径:"+n)})}}]),e}();module.exports=CreateFile;